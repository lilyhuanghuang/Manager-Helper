"use strict";var _compiler=require("@hap-toolkit/compiler");class Css2jsonPlugin{constructor(s){this.options=s}apply(s){s.hooks.emit.tap("Css2jsonPlugin",s=>{for(const e in s.assets)if(e.match(/css\.json$/)){const t=s.assets[e]._source.children.filter(s=>s._value),o=t.length;t.map((s,t)=>{this.css2Json({code:s._value,filePath:e},e=>{let l="";0===t?(l='{"list":['+e,l+=t===o-1?"]}":","):(l=e,l+=t<o-1?",":"]}"),s._value=l})})}})}css2Json(s,e){const t=String(s.code).match(/\[(.*)\]/);let o={};const{parsed:l}=(0,_compiler.parseStyle)(s);let i=l;if(t&&t[1]){o[t[1]]=i}else o=i;e&&e(o)}}module.exports=Css2jsonPlugin;
//# sourceMappingURL=css2json-plugin.js.map
